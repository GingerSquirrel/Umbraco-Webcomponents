# Web Components Vite Project

A project which aims to to build webcomponents in Umbraco in the most efficient way possible, using TypeScript, SCSS and Umbraco specific build configurations.

---

## 📁 Project Structure

```
webcomponents-vite-project
├── src
│   ├── index.html                  # Main HTML file
│   ├── main.ts                     # Main TypeScript entry
│   └── components
│       ├── mycomponent
│       │    ├── MyComponent.js     # Example custom web component
│       │    ├── MyComponent.scss   # Component-specific styles (optional)
│       │    └── MyComponent.html   # Component template (optional)
│       └── ...                     # Add more components here
├── package.json                    # npm configuration and scripts
├── vite.config.js                  # Vite configuration
└── README.md                       # Project documentation
```

---

## 🚀 Getting Started

1. **Clone the repository**
   ```bash
   git clone <repository-url>
   cd webcomponents-vite-project
   ```

2. **Install dependencies**
   ```bash
   npm install
   ```

3. **Start the development server**
   ```bash
   npm run dev
   ```
   Open [https://localhost:3000](https://localhost:3000) in your browser.

4. **Build for production**
   ```bash
   npm run build
   ```

---

## 🔒 SSL Certificate Setup for Local Development

This project uses HTTPS for local development to ensure proper testing of secure features like service workers. Follow these steps to set up trusted SSL certificates:

### Prerequisites

- **Windows**: Install [Chocolatey](https://chocolatey.org/install) or [Scoop](https://scoop.sh/)
- **macOS**: Install [Homebrew](https://brew.sh/)
- **Linux**: Install via your package manager

### Step 1: Install mkcert

Choose your platform and run the appropriate command:

**Windows (Chocolatey):**
```powershell
choco install mkcert
```

**Windows (Scoop):**
```powershell
scoop bucket add extras
scoop install mkcert
```

**macOS:**
```bash
brew install mkcert
```

**Linux (Ubuntu/Debian):**
```bash
sudo apt install libnss3-tools
curl -JLO "https://dl.filippo.io/mkcert/latest?for=linux/amd64"
chmod +x mkcert-v*-linux-amd64
sudo cp mkcert-v*-linux-amd64 /usr/local/bin/mkcert
```

### Step 2: Install the Certificate Authority

Run this command to install mkcert's root certificate in your system's trust store:

```bash
mkcert -install
```

This step is crucial - it tells your system to trust certificates generated by mkcert.

### Step 3: Generate Local Certificates

Navigate to the frontend directory and create certificates for localhost:

```bash
cd frontend/certs
mkcert localhost 127.0.0.1 ::1
```

This creates two files:
- `localhost+2.pem` (certificate)
- `localhost+2-key.pem` (private key)

### Step 4: Update Vite Configuration

The `vite.config.js` is already configured to use these certificates:

```javascript
server: {
  port: 3000,
  host: true,
  https: {
    key: fs.readFileSync(path.resolve(__dirname, 'certs/localhost+2-key.pem')),
    cert: fs.readFileSync(path.resolve(__dirname, 'certs/localhost+2.pem'))
  }
}
```

### Step 5: Restart Development Server

After generating new certificates, restart your development server:

```bash
npm run dev
```

### Troubleshooting

**Still seeing "Connection is not private"?**

1. **Restart your browser completely** - Close all browser windows and restart
2. **Clear browser cache** for localhost - Go to browser settings and clear site data for localhost:3000
3. **Hard refresh** - Try Ctrl+Shift+R (Windows/Linux) or Cmd+Shift+R (macOS)
4. **Check certificate installation** - Run `mkcert -install` again to ensure the CA is properly installed

**Certificate conflicts?**

If you have both `@vitejs/plugin-basic-ssl` and manual HTTPS configuration, remove the plugin to avoid conflicts:

```javascript
// Remove this from vite.config.js plugins array
// basicSsl()
```

**For Chrome/Edge users:**

You can also start Chrome with flags to ignore certificate errors during development:

```bash
chrome.exe --ignore-certificate-errors --ignore-ssl-errors --allow-running-insecure-content --disable-web-security --allow-insecure-localhost
```

### Security Notes

- These certificates are only for **local development**
- Never use mkcert certificates in production
- The certificates expire in 2 years and can be regenerated as needed
- Keep your `certs/` directory in `.gitignore` to avoid committing private keys

---

## 🛠 Usage

- The main entry point is `src/index.html`, which loads your main script.
- Add or modify components in the `src/components` directory.
- Import and register your custom elements in `main.ts` and add them to `main.scss`.

---

## 🎨 Design Reference

This project is inspired by a [Figma minimal landing page design](https://www.figma.com/community/file/1222060007934600841/minimal-landing-page-design-website-home-page-design-agency-website-ui-design).

---

## 📚 Notes

- You can use SCSS for global and component-specific styles.
- Vite enables fast hot module replacement and modern build tooling.
- Extend this setup to add more components or integrate with frameworks as needed.

## DEMO
[See here](https://black-water-04dcb7f1e.2.azurestaticapps.net/)